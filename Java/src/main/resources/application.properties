# ========================================
# Configurações da Aplicação
# ========================================
spring.application.name=SmartLocation
server.port=8080

# ========================================
# Configurações do Banco de Dados Oracle (FIAP)
# ========================================
# Conexão remota para o ambiente FIAP (service name ORCL na porta 1521)
spring.datasource.url=jdbc:oracle:thin:@//oracle.fiap.com.br:1521/ORCL
spring.datasource.username=RM555197
spring.datasource.password=060306
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.jpa.properties.hibernate.default_schema=RM555197

# ========================================
# Configurações do Pool de Conexões HikariCP
# ========================================
# IMPORTANTE: Banco Oracle da FIAP tem limite de sessões por usuário
# Configurar pool com valores conservadores para evitar ORA-02391
spring.datasource.hikari.minimum-idle=1
# Limitar pool para evitar atingir limite de sessões do Oracle (ORA-02391)
spring.datasource.hikari.maximum-pool-size=1
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.pool-name=SmartLocationHikariPool
# Desabilitar Open Session in View para liberar conexões mais cedo
spring.jpa.open-in-view=false

# ========================================
# Configurações do Banco de Dados MySQL (alternativa)
# ========================================
# Descomente se preferir usar MySQL ao invés de Oracle
# spring.datasource.url=jdbc:mysql://localhost:3306/smartlocation?useSSL=false&serverTimezone=UTC&createDatabaseIfNotExist=true
# spring.datasource.username=root
# spring.datasource.password=root
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ========================================
# Configurações do JPA/Hibernate
# ========================================
# Em ambientes compartilhados Oracle, evite DDL/validação rígida (usar none)
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect
# Para MySQL, use: org.hibernate.dialect.MySQL8Dialect

# ========================================
# Configurações do Thymeleaf
# ========================================
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# ========================================
# Configurações de Upload de Arquivos
# ========================================
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# ========================================
# Configurações de Logging
# ========================================
logging.level.br.com.fiap.smartlocation=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=INFO

# ========================================
# Configurações do Python (caminhos customizados)
# ========================================
# Caminho para o executável do Python (ajuste conforme seu ambiente)
python.executable=python
# Caminho para o notebook Jupyter (relativo à raiz do projeto)
python.notebook.path=../visao_computacional/SmartLocation.ipynb
# Pasta de saída dos resultados da análise
python.output.path=../visao_computacional/output
